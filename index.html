<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Tutor Pro | Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</title>

<style>
:root {
  --bg-dark:#09090b; --card-bg:#141417; --text-main:#fafafa;
  --text-dim:#a1a1aa; --border:#27272a; --accent:#6366f1;
  --green:#10b981; --red:#ef4444; --orange:#f97316;
}

body {
  margin:0; background:var(--bg-dark); color:var(--text-main);
  font-family:system-ui,-apple-system,sans-serif;
  display:flex; justify-content:center;
}

.container { width:100%; max-width:480px; padding:15px; box-sizing:border-box; }

header { text-align:center; padding:25px 0; }

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø­Ø¯Ø« */
.app-logo {
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 22px;
  margin-bottom: 15px;
  background: #141417;
  padding: 2px;
  box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
  border: 2px solid var(--accent);
}

header h1 {
  font-size:30px; margin:0;
  background:linear-gradient(to right,#818cf8,#c084fc);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}

.card {
  background:var(--card-bg); border:1px solid var(--border);
  border-radius:20px; padding:15px; margin-bottom:15px;
  box-shadow:0 4px 15px rgba(0,0,0,0.3);
}

.card h3 { color:var(--accent); font-size:14px; margin-bottom:10px; }

input, select, button {
  width:100%; padding:12px; margin-bottom:10px;
  border-radius:12px; border:1px solid var(--border);
  background:#000; color:#fff; box-sizing:border-box;
}

button { cursor:pointer; font-weight:700; transition:0.2s; }
.btn-primary { background:var(--accent); color:#fff; }
.btn-success { background:var(--green); color:#fff; }

.palette-grid { display:grid; grid-template-columns:repeat(6,1fr); gap:8px; margin-bottom:10px; }
.color-swatch { aspect-ratio:1; border-radius:50%; cursor:pointer; border:2px solid transparent; }
.color-swatch.active { border-color:#fff; transform:scale(1.1); }

.student {
  display:flex; align-items:center; gap:10px; padding:10px;
  background:#1c1c20; border-radius:15px; margin-bottom:10px;
  border:1px solid var(--border);
}

.student img { width:40px; height:40px; border-radius:50%; object-fit:cover; }
.student-info { flex:1; }
.student-sub { font-size:10px; color:var(--text-dim); }

.time-grid { border:1px solid var(--border); border-radius:20px; overflow:hidden; margin-bottom:10px; }
.day-row { display:flex; align-items:center; border-bottom:1px solid var(--border); min-height:60px; }
.day-label { width:50px; font-size:11px; font-weight:700; color:var(--text-dim); text-align:center; }
.slots { flex:1; display:flex; overflow-x:auto; gap:6px; padding:6px; }

.slot {
  flex-shrink:0; min-width:80px; padding:6px; border-radius:12px;
  text-align:center; color:#fff; font-size:11px;
}

.slot .time {
  font-weight:700; border-bottom:1px solid rgba(255,255,255,0.2);
  margin-bottom:4px;
}

.week-control { display:flex; justify-content:space-between; margin-top:10px; }
.week-btn { flex:1; margin:0 3px; padding:8px; border-radius:12px; color:#fff; font-weight:700; cursor:pointer; text-align:center; background: var(--border); }

.status-bar {
  height:35px; border-radius:12px; background:var(--red);
  color:#fff; text-align:center; line-height:35px;
  font-weight:700; margin-top:10px; cursor:pointer;
}

.animate-in { animation:fadeInUp 0.4s ease-out; }
@keyframes fadeInUp { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }

.upload-area {
  width:100%; height:100px; border:2px dashed var(--border);
  border-radius:18px; display:flex; align-items:center;
  justify-content:center; margin-bottom:10px; cursor:pointer;
  background:#000; overflow:hidden;
}

.upload-area img { width:100%; height:100%; object-fit:cover; }
</style>
</head>

<body>
<div class="container">

<header>
  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAAB6glWfAAAABlBMVEUAAAD///+l2Z/dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAC0ElEQVR4nO2YQXKCMBSGf8S9m7p07S679Abp0mUv4NIDuO0F7NIDpAsXvYAn8B78L16mIdYIKAnKe99MAsmXDxLykfArCQAAAAAAAAAAAAAAAAD8N0REv6D6HOfpS6X9v6B6DqfPqX6D6q9K+w9Un8P6OarvUP1Saf+B6m9UP0f1I6qfKu0/UL2i+jmqV1R/Vtp/oPr7L6rvUP2m0v4D1S8/vVf9DdXPVf8PVP8H1d+o/vWn+X9T/SdVv6P6p6r/N6r7F0A8f6l6QvUfVP+n6glf7l8A8fK96gnVf1D9v6rnv/X+uFmD6jmqV1Q/o/oNql9++6j6R6pfUP0Z1fP/1H9R/YrV96fOf6j6v6v+UP0Lqp+oPvepPw9X/6X6A9XfUf2C6keojv86vX/n6v9U/0H1X6o/6v2p7uO5+mPVf1L9WfWnSvu/6/7036p7v78AAAAAAAAAAAAAAACA/wFvXoX0T39XmX9B9RxOn1P9BtVflfYfqD6H9XNU36H6pdL+A9XfqH6O6kdUP1Xaf6B6RfVzVK+o/qy0/0D1919U36H6TaX9B6pfvrr99F71N1Q/V/0/UP0fVH+j+tef5v9N9Z9U/Y7qn6r+36juXwDx/KXqCdV/UP2fqid8uX8BxMv3qidU/0H1/6qe/9b742YNquen6glVv0H1y28fVf9I9QuqP6N6/p/6L6pfsfr+1PkPVf931R+qf0H1E9XnPvXn4eq/VH+g+juqX1D9CNXxX6f371z9n+o/qP5L9Ue9P9V9PFd/rPpPqj+r/lRp/3fdn/5bde/3FwAAAAAAAAAAAAAAAAD+ALy5GdIv/V1l/gXVczh9TvUbVH9V2n+g+hzWz1F9h+qXSvsPVH+j+jmqH1H9VGn/geoV1c9RvaL6s9L+A9Xff1F9h+o3lfYfqH756vbTe9XfUP1c9f9A9X9Q/Y3qX3+a/zfVf1L1O6p/qvp/o7p/AcTzl6onVP9B9X+qnvDl/gUQL9+rnlD9B9X/q3r+W++PmzWonn6qnlD1G1S//PZR9Y9Uv6D6M6rn/6n/ovoVq+9Pnf9Q9X9X/aH6F1Q/UX3uU38erv5L9Qeqv6P6BdWPUA399P6dq/9T/QfVf6n+qPenuo/n6o9V/0n1Z9WfKu3/rvvTf6vu/f4CAAAAAAAAAAAAAAAAAP4AvAGYpIdf4G/0oAAAAABJRU5ErkJggg==" class="app-logo" alt="Smart Tutor Logo">
  <h1>Smart Tutor Pro</h1>
  <p>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ø­ØµØµ Ù…Ø¹ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø°ÙƒÙŠØ©</p>
</header>

<section class="card animate-in">
<h3>ğŸ‘¤ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯</h3>

<div class="upload-area" onclick="document.getElementById('image').click()">
<input type="file" id="image" accept="image/*" hidden onchange="previewImage(this)">
<div id="imgPreview">ğŸ“¸ Ø§Ø¶ØºØ· Ù„Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø·Ø§Ù„Ø¨</div>
</div>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
<input id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„">
<input id="location" placeholder="Ø§Ù„Ù…ÙˆÙ‚Ø¹">
<input id="conditions" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ Ø¸Ø±ÙˆÙ Ø®Ø§ØµØ©">

<div class="color-picker-section">
<label>Ù„ÙˆÙ† Ø§Ù„ØªÙ…ÙŠØ²:</label>
<div class="palette-grid" id="presetPalette"></div>
</div>

<button class="btn-primary" onclick="addStudent()">Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</button>
</section>

<section class="card animate-in">
<h3>â° Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯</h3>
<select id="studentSelect"></select>

<div style="display:flex; gap:5px;">
<input type="time" id="time">
<select id="day">
<option value="Sat">Ø§Ù„Ø³Ø¨Øª</option>
<option value="Sun">Ø§Ù„Ø£Ø­Ø¯</option>
<option value="Mon">Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</option>
<option value="Tues">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</option>
<option value="Wed">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</option>
<option value="Thurs">Ø§Ù„Ø®Ù…ÙŠØ³</option>
</select>
</div>

<button class="btn-success" onclick="addSchedule()">ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙˆØ¹Ø¯</button>
</section>

<section class="card animate-in">
<h3>ğŸ“… Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h3>

<div class="time-grid">
<div class="day-row" data-day="Sat"><div class="day-label">Ø§Ù„Ø³Ø¨Øª</div><div class="slots"></div></div>
<div class="day-row" data-day="Sun"><div class="day-label">Ø§Ù„Ø£Ø­Ø¯</div><div class="slots"></div></div>
<div class="day-row" data-day="Mon"><div class="day-label">Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</div><div class="slots"></div></div>
<div class="day-row" data-day="Tues"><div class="day-label">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</div><div class="slots"></div></div>
<div class="day-row" data-day="Wed"><div class="day-label">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</div><div class="slots"></div></div>
<div class="day-row" data-day="Thurs"><div class="day-label">Ø§Ù„Ø®Ù…ÙŠØ³</div><div class="slots"></div></div>
</div>

<div class="week-control">
<div class="week-btn" id="week1" onclick="markWeek(1)">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1</div>
<div class="week-btn" id="week2" onclick="markWeek(2)">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2</div>
<div class="week-btn" id="week3" onclick="markWeek(3)">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 3</div>
<div class="week-btn" id="week4" onclick="markWeek(4)">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 4</div>
</div>

<div class="status-bar" id="statusBar" onclick="confirmPayment()">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§ØªÙ…Ø§Ù… Ø§Ù„Ø­ØµØµ</div>
</section>

<section class="card animate-in">
<h3>ğŸ‘¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</h3>
<div id="students"></div>
</section>

</div>

<script>
let students = JSON.parse(localStorage.getItem('smartTutor_v6'))||[];
let activeColor="#6366f1";
let currentImage="";
const colors=["#6366f1","#4f46e5","#3b82f6","#0ea5e9","#06b6d4","#2dd4bf","#10b981","#84cc16","#eab308","#f59e0b","#f97316","#ef4444","#f43f5e","#ec4899","#d946ef","#a855f7","#8b5cf6","#64748b"];

function initPalette() {
  const palette=document.getElementById('presetPalette');
  palette.innerHTML='';
  colors.forEach(c=>{
    const div=document.createElement('div');
    div.className='color-swatch'+(c===activeColor?' active':'');
    div.style.background=c;
    div.onclick=()=>{activeColor=c; document.querySelectorAll('.color-swatch').forEach(s=>s.classList.remove('active')); div.classList.add('active');};
    palette.appendChild(div);
  });
}

function previewImage(input){
  if(input.files && input.files[0]){
    const reader=new FileReader();
    reader.onload=e=>{
      currentImage=e.target.result;
      document.getElementById('imgPreview').innerHTML=`<img src="${currentImage}">`;
    };
    reader.readAsDataURL(input.files[0]);
  }
}

function addStudent(){
  const name=document.getElementById('name').value.trim();
  if(!name)return alert('Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨');
  const phone=document.getElementById('phone').value.trim();
  const location=document.getElementById('location').value.trim();
  const cond=document.getElementById('conditions').value.trim();

  students.push({
    id:Date.now(),
    name, phone, location,
    conditions:cond,
    color:activeColor,
    image:currentImage,
    schedules:[]
  });

  saveRender();
  resetForm();
}

function resetForm(){
  document.getElementById('name').value='';
  document.getElementById('phone').value='';
  document.getElementById('location').value='';
  document.getElementById('conditions').value='';
  currentImage='';
  document.getElementById('imgPreview').innerHTML='ğŸ“¸ Ø§Ø¶ØºØ· Ù„Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ø·Ø§Ù„Ø¨';
}

function addSchedule(){
  const id=+document.getElementById('studentSelect').value;
  const time=document.getElementById('time').value;
  const day=document.getElementById('day').value;
  if(!id||!time)return;

  const s=students.find(x=>x.id===id);
  s.schedules.push({day,time});
  s.schedules.sort((a,b)=>a.time.localeCompare(b.time));

  saveRender();
}

function markWeek(w){
  const btn = document.getElementById('week'+w);
  btn.style.background = 'var(--green)';
  if(w===4) {
    document.getElementById('statusBar').style.background='var(--orange)';
    document.getElementById('statusBar').innerText='Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­ØµØµ - Ø§Ø·Ù„Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨';
  }
}

function confirmPayment(){
  document.getElementById('statusBar').style.background='var(--green)';
  document.getElementById('statusBar').innerText='ØªÙ… ØªØ­ØµÙŠÙ„ Ø§Ù„Ø±Ø³ÙˆÙ… âœ…';
}

function saveRender(){
  localStorage.setItem('smartTutor_v6',JSON.stringify(students));
  render();
}

function render(){
  document.getElementById('students').innerHTML='';
  const select=document.getElementById('studentSelect');
  select.innerHTML='<option value="">Ø§Ø®ØªØ± Ø·Ø§Ù„Ø¨</option>';

  document.querySelectorAll('.slots').forEach(s=>s.innerHTML='');

  students.forEach(s=>{
    const div=document.createElement('div');
    div.className='student';

    div.innerHTML=`
      <img src="${s.image||'https://via.placeholder.com/50'}">
      <div class="student-info">
        <div style="font-weight:700">${s.name}</div>
        <div class="student-sub">ğŸ“ ${s.phone||'--'} | ğŸ“ ${s.location||'--'}</div>
        <div class="student-sub" style="color:${s.color}">ğŸ’¡ ${s.conditions||''}</div>
      </div>
    `;

    document.getElementById('students').appendChild(div);
    select.innerHTML+=`<option value="${s.id}">${s.name}</option>`;

    s.schedules.forEach(sc=>{
      const slot=document.createElement('div');
      slot.className='slot';
      slot.style.background=`linear-gradient(135deg, ${s.color}CC, ${s.color})`;
      slot.innerHTML=`<div class="time">${sc.time}</div><div>${s.name}</div>`;

      const cell=document.querySelector(`.day-row[data-day="${sc.day}"] .slots`);
      if(cell)cell.appendChild(slot);
    });
  });
}

initPalette();
render();
</script>

</body>
</html>
